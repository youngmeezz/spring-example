# ch5.3 서비스 추상화와 단일 책임 원칙  

![계층과 책임의 분리](./pics/[pic5-7]계층과_책임의_분리.png)  


- UserDao는 데이터를 어떻게 가져오고 등록할 것인가에 대한 데이터 엑세스 로직  
- UserService는 순수하게 사용자 관리의 업무의 비즈니스 로직을 담고 있음  
=> 인터페이스와 DI를 통해 연결됨으로써 결합도가 낮아짐  
- UserDao는 DB 연결을 생성하는 방법에 대해 독립적  
(DataSource 인터페이스와ㅕ DI를 통해 추상화된 방식으로 로우레벨의 DB 연결 기술을 사용하기때문)  
- UserService는 트랜잭션 기술과도 스프링이 제공하는 PlatformTransactionManager 인터페이스를  
통한 추상화 계층을 사이에 두고 사용했기 때문에, 트랜잭션 기술에 독립적인 코드  

=> 애플리케이션 로직의 종류에 따른 수평적인 구분 or 로직과 기술이라는 수직적인 구분이든  
모두 결합도가 낮으며 서로 영향을 주지 않고 자유롭게 확장할 수 있는 구조를 만드는데는  
스프링의 DI가 중요한 역할을 하고있음.  
=> DI의 가치는 이렇게 관심, 책임, 성격이 다른 코드를 깔끔하게 분리하는 데 있음  

**단일 책임 원칙(Single Responsibility Principle)**  
; 하나의 모듈은 한 가지 책임을 가져야 한다는 의미  

> 기존 JDBC Connection을 이용하여 트랜잭션 코드가 들어있는 UserService  

=> 1)어떻게 사용자 레벨을 관리할 것인가 2)어떻게 트랜잭션을 관리할 것인가  
에 대한 2가지 책임을 갖고 있었음  
=> UserService가 수정해야 되는 이유가 2가지라는 뜻  
=> 트랜잭션 서비스의 추상화 방식을 도입하고, 이를 DI를 통해 외부에서  
제어하도록 만들고 나서는 한가지 책임을 가지게 됨  

**단일 책임 원칙의 장점**  

=> 어떤 변경이 필요할 때 수정 대상이 명확해 짐  
